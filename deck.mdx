import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { nightOwl } from "@code-surfer/themes";
import Headshot from './components/Headshot.js';
import RedGreenRefactor from './components/RedGreenRefactor.js';
import Agenda, { SteppedAgenda } from './components/Agenda';
import customTheme from './customTheme.js';
import './styles.css';

export const themes = [nightOwl, customTheme];


# TDD and U
---
# TDD and UIs
<Appear>
  <h2>What, Why, and How</h2>
</Appear>

---

<Headshot />

### Scott Wagner

<div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center'}}>
  <Appear>
  <div>
    Full-Stack Developer (6+ years)
  </div>
  <div>
    Strong preference for frontend dev
  </div>
  <div>
    JOOR
  </div>
  <div>
    ‚öæ ü•Å üèåÔ∏è‚Äç‚ôÇÔ∏è
  </div>
  </Appear>
</div>

---
# Assumptions

---
# Assumption
* You know what a UI is

---
# Goals
<ul>
<Appear>
  <li>Teach you a little about TDD</li>
  <li>Convince you to try it</li>
  <li>Give you some tools to be successful</li>
</Appear>
</ul>

---
# Agenda

<SteppedAgenda doneSteps={[0]}/>

---
# TDD Overview
---
## Decide what test to write

<Notes>
  <ul>
    <li>difficult</li>
    <li>smallest chunk of valuable progress</li>
  </ul>
</Notes>

---
## Write the test
---

## Write the code
<Notes>
  <ul>
    <li>Just enough to make the test pass</li>
  </ul>
</Notes>

---
## Refactor (Optional)
---
## Rinse and repeat til the feature's done
---

<RedGreenRefactor />

---
# Agenda

<Agenda currentStep={2}/>

---
# Why Folks Don't TDD UIs
<Notes>
  <ul>
    <li>UI testing handled by QA team</li>
    <li>UI considered to be less critical</li>
    <li>Tests slow us down</li>
  </ul>
</Notes>

---
# Agenda

<Agenda currentStep={3}/>

---
# Why TDD Your UI?
---
## Frontend code is code too!
---
## It has business logic
* Form submission validations
* *Conditional Rendering*
* Data formatting
---

<CodeSurfer>

```jsx title="Conditional Rendering" file="./examples/UserProfile.js"
```

```jsx 5:12 title="Conditional Rendering" file="./examples/UserProfile.js"
```

</CodeSurfer>

---
## Good code design is good code design
* Reusability
* Readability

---
## Other TDD benefits still apply
<ul>
  <Appear>
    <li>Focused work</li>
    <li>Tests as documentation</li>
    <li>Watching tests fail</li>
    <li>Safe refactoring</li>
  </Appear>
</ul>

---
# Agenda

<Agenda currentStep={4}/>

___
# Do's and Don'ts
---
## Do's
<ul>
  <Appear>
    <li>Inject dependencies when possible</li>
    <li>Use descriptive names</li>
    <li>Practice, Practice, Practice</li>
  </Appear>
</ul>

---
## Don'ts
<ul>
  <Appear>
    <li>Snapshot Testing</li>
    <li>Testing Simple Styles (CSS)</li>
    <li>Test via the UI (if avoidable)</li>
  </Appear>
</ul>

---
# Agenda

<Agenda currentStep={5}/>

___
## Writing Less Brittle Tests
---
### Don't reach into components
---
### Don't rely on global state
---
### Decouple test from component implementation
#### Examples:
___

<CodeSurfer>

```jsx file="./examples/elements-vs-structure/ConfirmationModal.js"
```

```jsx 10 file="./examples/elements-vs-structure/ConfirmationModal.js"
```

</CodeSurfer>

---

<CodeSurferColumns>

  <Step>

```jsx title="Relying on Elements" file="./examples/elements-vs-structure/test/Elements.test.js"
```

```jsx title="Relying on Structure" file="./examples/elements-vs-structure/test/Structure.test.js"
```

  </Step>

  <Step>

```jsx 18:21 title="Relying on Elements" file="./examples/elements-vs-structure/test/Elements.test.js"
```

```jsx 18:23 title="Relying on Structure" file="./examples/elements-vs-structure/test/Structure.test.js"
```

  </Step>

</CodeSurferColumns>

---
## Test Ids üò¨
---
## Test Ids üòÑ
---

<CodeSurferColumns>

  <Step>

```jsx 10:12 title="Component" file="./examples/elements-vs-structure/ConfirmationModalTestId.js"
```

```jsx 21 title="Test" file="./examples/elements-vs-structure/test/TestId.test.js"
```

  </Step>

</CodeSurferColumns>

---
# New Requirement
---
## Flex üí™
---

<CodeSurfer>

```jsx title="Original" file="./examples/elements-vs-structure/ConfirmationModalTestId.js"
```

```jsx title="New" file="./examples/elements-vs-structure/with-flex/ConfirmationModalTestId.js"
```

</CodeSurfer>

---

<CodeSurfer>

```jsx 18:21 title="Relying on Elements ‚úÖ" file="./examples/elements-vs-structure/test/Elements.test.js"
```

</CodeSurfer>

---

<CodeSurfer>

```jsx 18:21 title="Relying on Test Id ‚úÖ" file="./examples/elements-vs-structure/test/TestId.test.js"
```

</CodeSurfer>

---

<CodeSurfer>

```jsx 18:23 title="Relying on Structure ‚ùå" file="./examples/elements-vs-structure/test/Structure.test.js"
```

</CodeSurfer>

---
# Agenda

<Agenda currentStep={6}/>

---
