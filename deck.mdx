import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import Layout from "./components/Layout.js";
import Headshot from "./components/Headshot.js";
import QrCode from "./components/QrCode.js";
import RedGreenRefactor from "./components/RedGreenRefactor.js";
import Agenda, { SteppedAgenda } from "./components/Agenda";
import customTheme from "./customTheme.js";
import "./styles.css";

export const theme = customTheme;

<Layout>


# TDD and U

</Layout>


---

<Layout>


# TDD and UIs

<Appear>
  <h2>What, Why, and How</h2>
</Appear>

</Layout>


---

<Layout>


<QrCode />

<a href="https://github.com/nbbdog11/tdd-ui-presentation">
  https://github.com/nbbdog11/tdd-ui-presentation
</a>

</Layout>


---

<Headshot />

### Scott Wagner

<div
  style={{
    display: "flex",
    flexDirection: "column",
    alignItems: "center",
  }}
>
  <Appear>
    <div>Full-Stack Developer (7+ years)</div>
    <div>Strong preference for frontend dev</div>
    <div>JOOR</div>
    <div>‚öæ ü•Å üèåÔ∏è‚Äç‚ôÇÔ∏è</div>
  </Appear>
</div>

---

<Layout>


# Assumptions

</Layout>


---

<Layout>


# Assumption

</Layout>


---

<Layout>


## You know what a UI is

</Layout>


---

<Layout>


# Goals

</Layout>


---

<Layout>


## Teach you a little about TDD

</Layout>


---

<Layout>


## Convince you to try it

</Layout>


---

<Layout>


## Give you some tools to be successful

</Layout>


---

<Layout>


# Agenda

<SteppedAgenda doneSteps={[0]} />

</Layout>


---

<Layout>


# TDD Overview

</Layout>


---

<Layout>


## Decide what test to write

<Notes>
  <ul>
    <li>difficult</li>
    <li>smallest chunk of valuable progress</li>
  </ul>
</Notes>

</Layout>


---

<Layout>


## Write the test

</Layout>


---

<Layout>


## Write the code

<Notes>
  <ul>
    <li>Just enough to make the test pass</li>
    <li>Test serves as spec of system behavior</li>
    <li>
      Any extra code is untested and unspecified behavior
    </li>
  </ul>
</Notes>

</Layout>


---

<Layout>


## Refactor (Optional)

</Layout>


---

<Layout>


## Rinse and repeat til the feature's done

</Layout>


---

<Layout>
  <RedGreenRefactor />
</Layout>

---

<Layout>


# Agenda

<Agenda currentStep={2} />

</Layout>


---

<Layout>


# Why Folks Don't TDD UIs

</Layout>


---

<Layout>


## UI testing handled by QA team

</Layout>


---

<Layout>


## UI considered to be less critical/difficult

</Layout>


---

<Layout>


## Tests slow us down

</Layout>


---

<Layout>


# Agenda

<Agenda currentStep={3}/>
</Layout>


---

<Layout>


# Why TDD Your UI?

</Layout>


---

<Layout>


## Frontend code is code too!

</Layout>


---

<Layout>


## It has business logic

- Form submission validations
- _Conditional Rendering_
- Data formatting

</Layout>


---

<CodeSurfer>


```jsx title="Conditional Rendering" file="./examples/UserProfile.js"

```

```jsx 5:12 title="Conditional Rendering" file="./examples/UserProfile.js"

```

</CodeSurfer>


---

<Layout>


## Good code design is good code design

</Layout>


---

<Layout>


## Other TDD benefits still apply

</Layout>


---

<Layout>


### Focused work

</Layout>


---

<Layout>


### Tests as documentation

</Layout>


---

<Layout>


### Watching tests fail

</Layout>


---

<Layout>


### Safe refactoring

</Layout>


---

<Layout>


# Agenda

<Agenda currentStep={4} />

</Layout>


---

<Layout>


# Do's and Don'ts

</Layout>


---

<Layout>


## Tests You Should Write

</Layout>


---

<Layout>


### Everything except:

</Layout>


---

<Layout>


## Tests You Shouldn't Write

</Layout>


---

<Layout>


### Snapshot tests

</Layout>


---

<Layout>


### Simple styles (CSS)

</Layout>


---

<Layout>


### Tests via the UI (if avoidable)

</Layout>


---

<Layout>


# Agenda

<Agenda currentStep={5} />

</Layout>


---

<Layout>


## Writing Less Brittle Tests

</Layout>


---

<Layout>


### Don't reach into components

</Layout>


---

<Layout>


### Don't rely on global state

</Layout>


---

<Layout>


### Inject dependencies if you can

</Layout>


---

<Layout>


### Decouple test from component implementation

#### Examples:

</Layout>


---

<CodeSurfer>


```jsx file="./examples/elements-vs-structure/ConfirmationModal.js"

```

```jsx 10 file="./examples/elements-vs-structure/ConfirmationModal.js"

```

</CodeSurfer>


---

<CodeSurferColumns>


  <Step>


```jsx title="Relying on Elements" file="./examples/elements-vs-structure/test/Elements.test.js"

```

```jsx title="Relying on Structure" file="./examples/elements-vs-structure/test/Structure.test.js"

```

  </Step>


  <Step>


```jsx 18:21 title="Relying on Elements" file="./examples/elements-vs-structure/test/Elements.test.js"

```

```jsx 18:23 title="Relying on Structure" file="./examples/elements-vs-structure/test/Structure.test.js"

```

  </Step>


</CodeSurferColumns>


---

<Layout>


## Test Ids üò¨

</Layout>


---

<Layout>


## Test Ids üòÑ

</Layout>


---

<CodeSurferColumns>


  <Step>


```jsx 10:12 title="Component" file="./examples/elements-vs-structure/ConfirmationModalTestId.js"

```

```jsx 21 title="Test" file="./examples/elements-vs-structure/test/TestId.test.js"

```

  </Step>


</CodeSurferColumns>


---

<Layout>


# New Requirement

</Layout>


---

<CodeSurfer>


```jsx file="./examples/elements-vs-structure/ConfirmationModal.js"

```

</CodeSurfer>


---

<Layout>


## Flex üí™

</Layout>


---

<CodeSurfer>


```jsx title="Original" file="./examples/elements-vs-structure/ConfirmationModalTestId.js"

```

```jsx title="New" file="./examples/elements-vs-structure/with-flex/ConfirmationModalTestId.js"

```

</CodeSurfer>


---

<CodeSurfer>


```jsx 18:21 title="Relying on Elements ‚úÖ" file="./examples/elements-vs-structure/test/Elements.test.js"

```

</CodeSurfer>


---

<CodeSurfer>


```jsx 18:21 title="Relying on Test Id ‚úÖ" file="./examples/elements-vs-structure/test/TestId.test.js"

```

</CodeSurfer>


---

<CodeSurfer>


```jsx 18:23 title="Relying on Structure ‚ùå" file="./examples/elements-vs-structure/test/Structure.test.js"

```

</CodeSurfer>


---

<Layout>


# Agenda

<Agenda currentStep={6} />

</Layout>


---
